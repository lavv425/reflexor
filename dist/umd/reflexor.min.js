!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e;"undefined"!=typeof window?window:globalThis,e=function(){const e=new Map;return{reflex:(t,n)=>{const r=Boolean(n&&n.length>0),o=r?(e=>{function t(e,t){return e<<t|e>>>32-t}function n(e,t){const n=1073741824&e,r=1073741824&t,o=2147483648&e,i=2147483648&t,s=(1073741823&e)+(1073741823&t);return n&r?2147483648^s^o^i:n|r?1073741824&s?3221225472^s^o^i:1073741824^s^o^i:s^o^i}function r(e,r,o,i,s,l,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),s),u)),n(t(e,l),r)}function o(e,r,o,i,s,l,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),s),u)),n(t(e,l),r)}function i(e,r,o,i,s,l,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),s),u)),n(t(e,l),r)}function s(e,r,o,i,s,l,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),s),u)),n(t(e,l),r)}function l(e){let t="";for(let n=0;n<=3;n++)t+=("0"+(e>>>8*n&255).toString(16)).slice(-2);return t}let u,f,a,c,d,g,h,p,y,m=[];for(e=function(e){e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),m=function(e){const t=e.length,n=t+8,r=16*((n-n%64)/64+1),o=new Array(r-1);let i=0,s=0;for(;s<t;){const t=(s-s%4)/4;i=s%4*8,o[t]=o[t]|e.charCodeAt(s)<<i,s++}const l=(s-s%4)/4;return i=s%4*8,o[l]=o[l]|128<<i,o[r-2]=t<<3,o[r-1]=t>>>29,o}(e),g=1732584193,h=4023233417,p=2562383102,y=271733878,u=0;u<m.length;u+=16)f=g,a=h,c=p,d=y,g=r(g,h,p,y,m[u+0],7,3614090360),y=r(y,g,h,p,m[u+1],12,3905402710),p=r(p,y,g,h,m[u+2],17,606105819),h=r(h,p,y,g,m[u+3],22,3250441966),g=r(g,h,p,y,m[u+4],7,4118548399),y=r(y,g,h,p,m[u+5],12,1200080426),p=r(p,y,g,h,m[u+6],17,2821735955),h=r(h,p,y,g,m[u+7],22,4249261313),g=r(g,h,p,y,m[u+8],7,1770035416),y=r(y,g,h,p,m[u+9],12,2336552879),p=r(p,y,g,h,m[u+10],17,4294925233),h=r(h,p,y,g,m[u+11],22,2304563134),g=r(g,h,p,y,m[u+12],7,1804603682),y=r(y,g,h,p,m[u+13],12,4254626195),p=r(p,y,g,h,m[u+14],17,2792965006),h=r(h,p,y,g,m[u+15],22,1236535329),g=o(g,h,p,y,m[u+1],5,4129170786),y=o(y,g,h,p,m[u+6],9,3225465664),p=o(p,y,g,h,m[u+11],14,643717713),h=o(h,p,y,g,m[u+0],20,3921069994),g=o(g,h,p,y,m[u+5],5,3593408605),y=o(y,g,h,p,m[u+10],9,38016083),p=o(p,y,g,h,m[u+15],14,3634488961),h=o(h,p,y,g,m[u+4],20,3889429448),g=o(g,h,p,y,m[u+9],5,568446438),y=o(y,g,h,p,m[u+14],9,3275163606),p=o(p,y,g,h,m[u+3],14,4107603335),h=o(h,p,y,g,m[u+8],20,1163531501),g=o(g,h,p,y,m[u+13],5,2850285829),y=o(y,g,h,p,m[u+2],9,4243563512),p=o(p,y,g,h,m[u+7],14,1735328473),h=o(h,p,y,g,m[u+12],20,2368359562),g=i(g,h,p,y,m[u+5],4,4294588738),y=i(y,g,h,p,m[u+8],11,2272392833),p=i(p,y,g,h,m[u+11],16,1839030562),h=i(h,p,y,g,m[u+14],23,4259657740),g=i(g,h,p,y,m[u+1],4,2763975236),y=i(y,g,h,p,m[u+4],11,1272893353),p=i(p,y,g,h,m[u+7],16,4139469664),h=i(h,p,y,g,m[u+10],23,3200236656),g=i(g,h,p,y,m[u+13],4,681279174),y=i(y,g,h,p,m[u+0],11,3936430074),p=i(p,y,g,h,m[u+3],16,3572445317),h=i(h,p,y,g,m[u+6],23,76029189),g=i(g,h,p,y,m[u+9],4,3654602809),y=i(y,g,h,p,m[u+12],11,3873151461),p=i(p,y,g,h,m[u+15],16,530742520),h=i(h,p,y,g,m[u+2],23,3299628645),g=s(g,h,p,y,m[u+0],6,4096336452),y=s(y,g,h,p,m[u+7],10,1126891415),p=s(p,y,g,h,m[u+14],15,2878612391),h=s(h,p,y,g,m[u+5],21,4237533241),g=s(g,h,p,y,m[u+12],6,1700485571),y=s(y,g,h,p,m[u+3],10,2399980690),p=s(p,y,g,h,m[u+10],15,4293915773),h=s(h,p,y,g,m[u+1],21,2240044497),g=s(g,h,p,y,m[u+8],6,1873313359),y=s(y,g,h,p,m[u+15],10,4264355552),p=s(p,y,g,h,m[u+6],15,2734768916),h=s(h,p,y,g,m[u+13],21,1309151649),g=s(g,h,p,y,m[u+4],6,4149444226),y=s(y,g,h,p,m[u+11],10,3174756917),p=s(p,y,g,h,m[u+2],15,718787259),h=s(h,p,y,g,m[u+9],21,3951481745),g=n(g,f),h=n(h,a),p=n(p,c),y=n(y,d);return(l(g)+l(h)+l(p)+l(y)).toLowerCase()})(`reflex-${n}`):void 0,i=o?localStorage.getItem(o):null,s={value:null!==i?JSON.parse(i):t,initialValue:t,listeners:[],dropListeners:[],resetListeners:[],persisted:r,key:o},l=new Proxy(s,{set:(e,t,n)=>"value"===t&&(e.value=n,e.listeners.forEach((e=>e(n))),e.persisted&&e.key&&localStorage.setItem(e.key,JSON.stringify(n)),!0),deleteProperty:(e,t)=>"value"===t&&(e.dropListeners.forEach((t=>t(e.value))),delete e.value,e.persisted&&e.key&&localStorage.removeItem(e.key),!0)});return e.set(l,s),l},onReflexChange:(t,n)=>{n.forEach((n=>{const r=e.get(n);r&&r.listeners.push(t)}))},onReflexDrop:(t,n)=>{n.forEach((n=>{const r=e.get(n);r&&r.dropListeners.push(t)}))},onReflexReset:(t,n)=>{n.forEach((n=>{const r=e.get(n);r&&r.resetListeners.push(t)}))},reset:t=>{const n=e.get(t);n&&(n.value=n.initialValue,n.persisted&&n.key&&localStorage.setItem(n.key,JSON.stringify(n.initialValue)),n.listeners.forEach((e=>e(n.initialValue))),n.resetListeners.forEach((e=>e(n.initialValue))))}}},"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):globalThis.reflexor=e()}));
//# sourceMappingURL=reflexor.min.js.map
