<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">dist/umd/reflexor.min.js | reflexor</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A lightweight reactive state library with optional persistence."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="reflexor"><meta property="twitter:description" content="A lightweight reactive state library with optional persistence."></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/lavv425/reflexor"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">dist/umd/reflexor.min.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">!function(e){&quot;function&quot;==typeof define&amp;&amp;define.amd?define(e):e()}((function(){&quot;use strict&quot;;var e;&quot;undefined&quot;!=typeof window?window:globalThis,e=function(){const e=new Map,t=&quot;undefined&quot;==typeof window,r=(...e)=&gt;__awaiter(this,[...e],void 0,(function*(e=&quot;ReflexorDB&quot;,t=&quot;reflexStates&quot;){return new Promise(((r,n)=&gt;{const o=indexedDB.open(e,1);o.onupgradeneeded=e=&gt;{const r=e.target.result;r.objectStoreNames.contains(t)||r.createObjectStore(t,{keyPath:&quot;key&quot;})},o.onsuccess=e=&gt;r(e.target.result),o.onerror=e=&gt;n(e.target.error)}))})),n=(e,t,...n)=&gt;__awaiter(this,[e,t,...n],void 0,(function*(e,t,n=&quot;reflexStates&quot;){const o=yield r();return new Promise(((r,i)=&gt;{const s=o.transaction(n,&quot;readwrite&quot;).objectStore(n).put({key:e,value:t});s.onsuccess=()=&gt;r(),s.onerror=e=&gt;i(e.target.error)}))})),o=(e,...t)=&gt;__awaiter(this,[e,...t],void 0,(function*(e,t=&quot;reflexStates&quot;){const n=yield r();return new Promise(((r,o)=&gt;{const i=n.transaction(t,&quot;readonly&quot;).objectStore(t).get(e);i.onsuccess=e=&gt;{var t;return r((null===(t=e.target.result)||void 0===t?void 0:t.value)||null)},i.onerror=e=&gt;o(e.target.error)}))})),i=t?require(&quot;fs&quot;):null,s=t?require(&quot;path&quot;):null,l=t?s.resolve(__dirname,&quot;reflexor_store.json&quot;):null,u=()=&gt;{t&amp;&amp;!i.existsSync(l)&amp;&amp;i.writeFileSync(l,JSON.stringify({}))},a=(e,r)=&gt;__awaiter(this,void 0,void 0,(function*(){t?((e,r)=&gt;{if(!t)return;u();const n=JSON.parse(i.readFileSync(l,&quot;utf-8&quot;));n[e]=r,i.writeFileSync(l,JSON.stringify(n,null,2))})(e,r):yield n(e,r)})),c=e=&gt;__awaiter(this,void 0,void 0,(function*(){return t?(e=&gt;t?(u(),JSON.parse(i.readFileSync(l,&quot;utf-8&quot;))[e]||null):null)(e):yield o(e)}));return{reflex:(t,r)=&gt;{const n=Boolean(r&amp;&amp;r.length&gt;0),o=n?(e=&gt;{function t(e,t){return e&lt;&lt;t|e&gt;&gt;&gt;32-t}function r(e,t){const r=1073741824&amp;e,n=1073741824&amp;t,o=2147483648&amp;e,i=2147483648&amp;t,s=(1073741823&amp;e)+(1073741823&amp;t);return r&amp;n?2147483648^s^o^i:r|n?1073741824&amp;s?3221225472^s^o^i:1073741824^s^o^i:s^o^i}function n(e,n,o,i,s,l,u){return e=r(e,r(r(function(e,t,r){return e&amp;t|~e&amp;r}(n,o,i),s),u)),r(t(e,l),n)}function o(e,n,o,i,s,l,u){return e=r(e,r(r(function(e,t,r){return e&amp;r|t&amp;~r}(n,o,i),s),u)),r(t(e,l),n)}function i(e,n,o,i,s,l,u){return e=r(e,r(r(function(e,t,r){return e^t^r}(n,o,i),s),u)),r(t(e,l),n)}function s(e,n,o,i,s,l,u){return e=r(e,r(r(function(e,t,r){return t^(e|~r)}(n,o,i),s),u)),r(t(e,l),n)}function l(e){let t=&quot;&quot;;for(let r=0;r&lt;=3;r++)t+=(&quot;0&quot;+(e&gt;&gt;&gt;8*r&amp;255).toString(16)).slice(-2);return t}let u,a,c,f,d,h,y,g,p,v=[];for(e=function(e){e=e.replace(/\r\n/g,&quot;\n&quot;);let t=&quot;&quot;;for(let r=0;r&lt;e.length;r++){const n=e.charCodeAt(r);n&lt;128?t+=String.fromCharCode(n):n&gt;127&amp;&amp;n&lt;2048?(t+=String.fromCharCode(n&gt;&gt;6|192),t+=String.fromCharCode(63&amp;n|128)):(t+=String.fromCharCode(n&gt;&gt;12|224),t+=String.fromCharCode(n&gt;&gt;6&amp;63|128),t+=String.fromCharCode(63&amp;n|128))}return t}(e),v=function(e){const t=e.length,r=t+8,n=16*((r-r%64)/64+1),o=new Array(n-1);let i=0,s=0;for(;s&lt;t;){const t=(s-s%4)/4;i=s%4*8,o[t]=o[t]|e.charCodeAt(s)&lt;&lt;i,s++}const l=(s-s%4)/4;return i=s%4*8,o[l]=o[l]|128&lt;&lt;i,o[n-2]=t&lt;&lt;3,o[n-1]=t&gt;&gt;&gt;29,o}(e),h=1732584193,y=4023233417,g=2562383102,p=271733878,u=0;u&lt;v.length;u+=16)a=h,c=y,f=g,d=p,h=n(h,y,g,p,v[u+0],7,3614090360),p=n(p,h,y,g,v[u+1],12,3905402710),g=n(g,p,h,y,v[u+2],17,606105819),y=n(y,g,p,h,v[u+3],22,3250441966),h=n(h,y,g,p,v[u+4],7,4118548399),p=n(p,h,y,g,v[u+5],12,1200080426),g=n(g,p,h,y,v[u+6],17,2821735955),y=n(y,g,p,h,v[u+7],22,4249261313),h=n(h,y,g,p,v[u+8],7,1770035416),p=n(p,h,y,g,v[u+9],12,2336552879),g=n(g,p,h,y,v[u+10],17,4294925233),y=n(y,g,p,h,v[u+11],22,2304563134),h=n(h,y,g,p,v[u+12],7,1804603682),p=n(p,h,y,g,v[u+13],12,4254626195),g=n(g,p,h,y,v[u+14],17,2792965006),y=n(y,g,p,h,v[u+15],22,1236535329),h=o(h,y,g,p,v[u+1],5,4129170786),p=o(p,h,y,g,v[u+6],9,3225465664),g=o(g,p,h,y,v[u+11],14,643717713),y=o(y,g,p,h,v[u+0],20,3921069994),h=o(h,y,g,p,v[u+5],5,3593408605),p=o(p,h,y,g,v[u+10],9,38016083),g=o(g,p,h,y,v[u+15],14,3634488961),y=o(y,g,p,h,v[u+4],20,3889429448),h=o(h,y,g,p,v[u+9],5,568446438),p=o(p,h,y,g,v[u+14],9,3275163606),g=o(g,p,h,y,v[u+3],14,4107603335),y=o(y,g,p,h,v[u+8],20,1163531501),h=o(h,y,g,p,v[u+13],5,2850285829),p=o(p,h,y,g,v[u+2],9,4243563512),g=o(g,p,h,y,v[u+7],14,1735328473),y=o(y,g,p,h,v[u+12],20,2368359562),h=i(h,y,g,p,v[u+5],4,4294588738),p=i(p,h,y,g,v[u+8],11,2272392833),g=i(g,p,h,y,v[u+11],16,1839030562),y=i(y,g,p,h,v[u+14],23,4259657740),h=i(h,y,g,p,v[u+1],4,2763975236),p=i(p,h,y,g,v[u+4],11,1272893353),g=i(g,p,h,y,v[u+7],16,4139469664),y=i(y,g,p,h,v[u+10],23,3200236656),h=i(h,y,g,p,v[u+13],4,681279174),p=i(p,h,y,g,v[u+0],11,3936430074),g=i(g,p,h,y,v[u+3],16,3572445317),y=i(y,g,p,h,v[u+6],23,76029189),h=i(h,y,g,p,v[u+9],4,3654602809),p=i(p,h,y,g,v[u+12],11,3873151461),g=i(g,p,h,y,v[u+15],16,530742520),y=i(y,g,p,h,v[u+2],23,3299628645),h=s(h,y,g,p,v[u+0],6,4096336452),p=s(p,h,y,g,v[u+7],10,1126891415),g=s(g,p,h,y,v[u+14],15,2878612391),y=s(y,g,p,h,v[u+5],21,4237533241),h=s(h,y,g,p,v[u+12],6,1700485571),p=s(p,h,y,g,v[u+3],10,2399980690),g=s(g,p,h,y,v[u+10],15,4293915773),y=s(y,g,p,h,v[u+1],21,2240044497),h=s(h,y,g,p,v[u+8],6,1873313359),p=s(p,h,y,g,v[u+15],10,4264355552),g=s(g,p,h,y,v[u+6],15,2734768916),y=s(y,g,p,h,v[u+13],21,1309151649),h=s(h,y,g,p,v[u+4],6,4149444226),p=s(p,h,y,g,v[u+11],10,3174756917),g=s(g,p,h,y,v[u+2],15,718787259),y=s(y,g,p,h,v[u+9],21,3951481745),h=r(h,a),y=r(y,c),g=r(g,f),p=r(p,d);return(l(h)+l(y)+l(g)+l(p)).toLowerCase()})(`reflex-${r}`):void 0;let i=t;o&amp;&amp;c(o).then((e=&gt;{null!==e&amp;&amp;(i=e)}));const s={value:i,initialValue:t,listeners:[],dropListeners:[],resetListeners:[],persisted:n,key:o},l=()=&gt;__awaiter(this,void 0,void 0,(function*(){s.persisted&amp;&amp;s.key&amp;&amp;(yield a(s.key,s.value))})),u=new Proxy(s,{set:(e,t,r)=&gt;&quot;value&quot;===t&amp;&amp;(e.value=r,e.listeners.forEach((e=&gt;e(r))),l(),!0),deleteProperty:(e,t)=&gt;&quot;value&quot;===t&amp;&amp;(e.dropListeners.forEach((t=&gt;t(e.value))),delete e.value,s.persisted&amp;&amp;s.key&amp;&amp;a(s.key,null),!0)});return e.set(u,s),u},onReflexChange:(t,r)=&gt;{r.forEach((r=&gt;{const n=e.get(r);n&amp;&amp;n.listeners.push(t)}))},onReflexDrop:(t,r)=&gt;{r.forEach((r=&gt;{const n=e.get(r);n&amp;&amp;n.dropListeners.push(t)}))},onReflexReset:(t,r)=&gt;{r.forEach((r=&gt;{const n=e.get(r);n&amp;&amp;n.resetListeners.push(t)}))},reset:t=&gt;{const r=e.get(t);r&amp;&amp;(r.value=r.initialValue,r.persisted&amp;&amp;r.key&amp;&amp;a(r.key,r.initialValue),r.listeners.forEach((e=&gt;e(r.initialValue))),r.resetListeners.forEach((e=&gt;e(r.initialValue))))}}},&quot;object&quot;==typeof module&amp;&amp;&quot;object&quot;==typeof module.exports?module.exports=e():&quot;function&quot;==typeof define&amp;&amp;define.amd?define([],e):globalThis.reflexor=e()}));
//# sourceMappingURL=reflexor.min.js.map
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
